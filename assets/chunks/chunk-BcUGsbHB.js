import{r as h,b as E}from"./chunk-DYKZL3oe.js";const P="Left",$="Right",X="Up",Y="Down",m={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},U={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},k="mousemove",L="mouseup",A="touchend",C="touchmove",V="touchstart";function q(t,r,i,s){return t>r?i>0?$:P:s>0?Y:X}function H(t,r){if(r===0)return t;const i=Math.PI/180*r,s=t[0]*Math.cos(i)+t[1]*Math.sin(i),a=t[1]*Math.cos(i)-t[0]*Math.sin(i);return[s,a]}function z(t,r){const i=e=>{const n="touches"in e;n&&e.touches.length>1||t((o,c)=>{c.trackMouse&&!n&&(document.addEventListener(k,s),document.addEventListener(L,g));const{clientX:l,clientY:b}=n?e.touches[0]:e,d=H([l,b],c.rotationAngle);return c.onTouchStartOrOnMouseDown&&c.onTouchStartOrOnMouseDown({event:e}),Object.assign(Object.assign(Object.assign({},o),U),{initial:d.slice(),xy:d,start:e.timeStamp||0})})},s=e=>{t((n,o)=>{const c="touches"in e;if(c&&e.touches.length>1)return n;if(e.timeStamp-n.start>o.swipeDuration)return n.swiping?Object.assign(Object.assign({},n),{swiping:!1}):n;const{clientX:l,clientY:b}=c?e.touches[0]:e,[d,M]=H([l,b],o.rotationAngle),j=d-n.xy[0],p=M-n.xy[1],O=Math.abs(j),w=Math.abs(p),D=(e.timeStamp||0)-n.start,R=Math.sqrt(O*O+w*w)/(D||1),I=[j/(D||1),p/(D||1)],y=q(O,w,j,p),x=typeof o.delta=="number"?o.delta:o.delta[y.toLowerCase()]||m.delta;if(O<x&&w<x&&!n.swiping)return n;const T={absX:O,absY:w,deltaX:j,deltaY:p,dir:y,event:e,first:n.first,initial:n.initial,velocity:R,vxvy:I};T.first&&o.onSwipeStart&&o.onSwipeStart(T),o.onSwiping&&o.onSwiping(T);let N=!1;return(o.onSwiping||o.onSwiped||o[`onSwiped${y}`])&&(N=!0),N&&o.preventScrollOnSwipe&&o.trackTouch&&e.cancelable&&e.preventDefault(),Object.assign(Object.assign({},n),{first:!1,eventData:T,swiping:!0})})},a=e=>{t((n,o)=>{let c;if(n.swiping&&n.eventData){if(e.timeStamp-n.start<o.swipeDuration){c=Object.assign(Object.assign({},n.eventData),{event:e}),o.onSwiped&&o.onSwiped(c);const l=o[`onSwiped${c.dir}`];l&&l(c)}}else o.onTap&&o.onTap({event:e});return o.onTouchEndOrOnMouseUp&&o.onTouchEndOrOnMouseUp({event:e}),Object.assign(Object.assign(Object.assign({},n),U),{eventData:c})})},u=()=>{document.removeEventListener(k,s),document.removeEventListener(L,g)},g=e=>{u(),a(e)},f=(e,n)=>{let o=()=>{};if(e&&e.addEventListener){const c=Object.assign(Object.assign({},m.touchEventOptions),n.touchEventOptions),l=[[V,i,c],[C,s,Object.assign(Object.assign({},c),n.preventScrollOnSwipe?{passive:!1}:{})],[A,a,c]];l.forEach(([b,d,M])=>e.addEventListener(b,d,M)),o=()=>l.forEach(([b,d])=>e.removeEventListener(b,d))}return o},v={ref:e=>{e!==null&&t((n,o)=>{if(n.el===e)return n;const c={};return n.el&&n.el!==e&&n.cleanUpTouch&&(n.cleanUpTouch(),c.cleanUpTouch=void 0),o.trackTouch&&e&&(c.cleanUpTouch=f(e,o)),Object.assign(Object.assign(Object.assign({},n),{el:e}),c)})}};return r.trackMouse&&(v.onMouseDown=i),[v,f]}function B(t,r,i,s){return!r.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?r.preventScrollOnSwipe!==i.preventScrollOnSwipe||r.touchEventOptions.passive!==i.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:s(t.el,r)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:s(t.el,r)})}function F(t){const{trackMouse:r}=t,i=h.useRef(Object.assign({},U)),s=h.useRef(Object.assign({},m)),a=h.useRef(Object.assign({},s.current));a.current=Object.assign({},s.current),s.current=Object.assign(Object.assign({},m),t);let u;for(u in m)s.current[u]===void 0&&(s.current[u]=m[u]);const[g,f]=h.useMemo(()=>z(S=>i.current=S(i.current,s.current),{trackMouse:r}),[r]);return i.current=B(i.current,s.current,a.current,f),g}function K({slides:t,interval:r=5e3,className:i=""}){const[s,a]=h.useState(0),[u,g]=h.useState(!1),f=h.useCallback(()=>{a(e=>(e+1)%t.length)},[t.length]),S=h.useCallback(()=>{a(e=>(e-1+t.length)%t.length)},[t.length]);h.useEffect(()=>{if(u||t.length<=1)return;const e=setInterval(f,r);return()=>clearInterval(e)},[f,r,u,t.length]);const v=F({onSwipedLeft:f,onSwipedRight:S,trackMouse:!1,trackTouch:!0,delta:50});return t.length===0?null:E.jsxDEV("div",{className:`relative overflow-hidden ${i}`,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),role:"region","aria-roledescription":"carousel","aria-label":"Hero images",...v,children:E.jsxDEV("div",{className:"absolute inset-0",children:t.map((e,n)=>E.jsxDEV("div",{className:`absolute inset-0 transition-opacity duration-700 ease-in-out ${n===s?"opacity-100":"opacity-0"}`,role:"group","aria-roledescription":"slide","aria-label":`${n+1} of ${t.length}`,"aria-hidden":n!==s,children:E.jsxDEV("img",{src:e.src,alt:e.alt,className:"absolute inset-0 w-full h-full object-cover",loading:n===0?"eager":"lazy",decoding:n===0?"sync":"async"},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/components/HeroSlideshow.tsx",lineNumber:81,columnNumber:13},this)},n,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/components/HeroSlideshow.tsx",lineNumber:71,columnNumber:11},this))},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/components/HeroSlideshow.tsx",lineNumber:69,columnNumber:7},this)},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/components/HeroSlideshow.tsx",lineNumber:59,columnNumber:5},this)}export{K as H};
