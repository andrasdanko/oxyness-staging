import{r as h,j as p}from"./chunk-Cc16oeOs.js";const N="Left",$="Right",X="Up",Y="Down",b={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},D={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},L="mousemove",R="mouseup",A="touchend",C="touchmove",q="touchstart";function z(e,s,a,i){return e>s?a>0?$:N:i>0?Y:X}function I(e,s){if(s===0)return e;const a=Math.PI/180*s,i=e[0]*Math.cos(a)+e[1]*Math.sin(a),r=e[1]*Math.cos(a)-e[0]*Math.sin(a);return[i,r]}function B(e,s){const a=n=>{const t="touches"in n;t&&n.touches.length>1||e((c,o)=>{o.trackMouse&&!t&&(document.addEventListener(L,i),document.addEventListener(R,d));const{clientX:l,clientY:O}=t?n.touches[0]:n,g=I([l,O],o.rotationAngle);return o.onTouchStartOrOnMouseDown&&o.onTouchStartOrOnMouseDown({event:n}),Object.assign(Object.assign(Object.assign({},c),D),{initial:g.slice(),xy:g,start:n.timeStamp||0})})},i=n=>{e((t,c)=>{const o="touches"in n;if(o&&n.touches.length>1)return t;if(n.timeStamp-t.start>c.swipeDuration)return t.swiping?Object.assign(Object.assign({},t),{swiping:!1}):t;const{clientX:l,clientY:O}=o?n.touches[0]:n,[g,E]=I([l,O],c.rotationAngle),v=g-t.xy[0],T=E-t.xy[1],S=Math.abs(v),j=Math.abs(T),y=(n.timeStamp||0)-t.start,P=Math.sqrt(S*S+j*j)/(y||1),H=[v/(y||1),T/(y||1)],U=z(S,j,v,T),x=typeof c.delta=="number"?c.delta:c.delta[U.toLowerCase()]||b.delta;if(S<x&&j<x&&!t.swiping)return t;const M={absX:S,absY:j,deltaX:v,deltaY:T,dir:U,event:n,first:t.first,initial:t.initial,velocity:P,vxvy:H};M.first&&c.onSwipeStart&&c.onSwipeStart(M),c.onSwiping&&c.onSwiping(M);let k=!1;return(c.onSwiping||c.onSwiped||c[`onSwiped${U}`])&&(k=!0),k&&c.preventScrollOnSwipe&&c.trackTouch&&n.cancelable&&n.preventDefault(),Object.assign(Object.assign({},t),{first:!1,eventData:M,swiping:!0})})},r=n=>{e((t,c)=>{let o;if(t.swiping&&t.eventData){if(n.timeStamp-t.start<c.swipeDuration){o=Object.assign(Object.assign({},t.eventData),{event:n}),c.onSwiped&&c.onSwiped(o);const l=c[`onSwiped${o.dir}`];l&&l(o)}}else c.onTap&&c.onTap({event:n});return c.onTouchEndOrOnMouseUp&&c.onTouchEndOrOnMouseUp({event:n}),Object.assign(Object.assign(Object.assign({},t),D),{eventData:o})})},u=()=>{document.removeEventListener(L,i),document.removeEventListener(R,d)},d=n=>{u(),r(n)},f=(n,t)=>{let c=()=>{};if(n&&n.addEventListener){const o=Object.assign(Object.assign({},b.touchEventOptions),t.touchEventOptions),l=[[q,a,o],[C,i,Object.assign(Object.assign({},o),t.preventScrollOnSwipe?{passive:!1}:{})],[A,r,o]];l.forEach(([O,g,E])=>n.addEventListener(O,g,E)),c=()=>l.forEach(([O,g])=>n.removeEventListener(O,g))}return c},m={ref:n=>{n!==null&&e((t,c)=>{if(t.el===n)return t;const o={};return t.el&&t.el!==n&&t.cleanUpTouch&&(t.cleanUpTouch(),o.cleanUpTouch=void 0),c.trackTouch&&n&&(o.cleanUpTouch=f(n,c)),Object.assign(Object.assign(Object.assign({},t),{el:n}),o)})}};return s.trackMouse&&(m.onMouseDown=a),[m,f]}function F(e,s,a,i){return!s.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?s.preventScrollOnSwipe!==a.preventScrollOnSwipe||s.touchEventOptions.passive!==a.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:i(e.el,s)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:i(e.el,s)})}function G(e){const{trackMouse:s}=e,a=h.useRef(Object.assign({},D)),i=h.useRef(Object.assign({},b)),r=h.useRef(Object.assign({},i.current));r.current=Object.assign({},i.current),i.current=Object.assign(Object.assign({},b),e);let u;for(u in b)i.current[u]===void 0&&(i.current[u]=b[u]);const[d,f]=h.useMemo(()=>B(w=>a.current=w(a.current,i.current),{trackMouse:s}),[s]);return a.current=F(a.current,i.current,r.current,f),d}function W({slides:e,interval:s=5e3,className:a=""}){const[i,r]=h.useState(0),[u,d]=h.useState(!1),f=h.useCallback(()=>{r(n=>(n+1)%e.length)},[e.length]),w=h.useCallback(()=>{r(n=>(n-1+e.length)%e.length)},[e.length]);h.useEffect(()=>{if(u||e.length<=1)return;const n=setInterval(f,s);return()=>clearInterval(n)},[f,s,u,e.length]);const m=G({onSwipedLeft:f,onSwipedRight:w,trackMouse:!1,trackTouch:!0,delta:50});return e.length===0?null:p.jsx("div",{className:`relative overflow-hidden ${a}`,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),role:"region","aria-roledescription":"carousel","aria-label":"Hero images",...m,children:p.jsx("div",{className:"absolute inset-0",children:e.map((n,t)=>p.jsx("div",{className:`absolute inset-0 transition-opacity duration-700 ease-in-out ${t===i?"opacity-100":"opacity-0"}`,role:"group","aria-roledescription":"slide","aria-label":`${t+1} of ${e.length}`,"aria-hidden":t!==i,children:p.jsx("img",{src:n.src,alt:n.alt,className:"absolute inset-0 w-full h-full object-cover",loading:t===0?"eager":"lazy",decoding:t===0?"sync":"async"})},t))})})}export{W as H};
