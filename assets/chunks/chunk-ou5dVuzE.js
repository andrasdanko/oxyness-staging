import{a as I,j as i,r as v,u as X}from"./chunk-Bz7S3e5o.js";import{l as q}from"./chunk-DwU_mX9w.js";import{u as A}from"./chunk-B-1OWPw4.js";const _=[{value:"global",label:"Global",flag:"ðŸŒ"},{value:"us",label:"United States",flag:"ðŸ‡ºðŸ‡¸"},{value:"uk",label:"United Kingdom",flag:"ðŸ‡¬ðŸ‡§"},{value:"de",label:"Germany",flag:"ðŸ‡©ðŸ‡ª"},{value:"fr",label:"France",flag:"ðŸ‡«ðŸ‡·"},{value:"es",label:"Spain",flag:"ðŸ‡ªðŸ‡¸"},{value:"it",label:"Italy",flag:"ðŸ‡®ðŸ‡¹"}];function ce({value:e,onChange:r,disabled:o=!1,className:a=""}){const u=I("common");return i.jsxDEV("div",{className:a,children:[i.jsxDEV("label",{htmlFor:"region-select",className:"block text-sm font-medium mb-2",children:u("region")},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/components/RegionSelector.tsx",lineNumber:34,columnNumber:7},this),i.jsxDEV("select",{id:"region-select",value:e,onChange:c=>r(c.target.value),disabled:o,className:`
          w-full min-w-[200px] px-4 py-2.5
          bg-background border border-input rounded-md
          text-foreground
          focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2
          disabled:opacity-50 disabled:cursor-not-allowed
          transition-colors
          dark:bg-gray-800 dark:border-gray-700
        `,children:_.map(c=>i.jsxDEV("option",{value:c.value,children:[c.flag," ",c.label]},c.value,!0,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/components/RegionSelector.tsx",lineNumber:53,columnNumber:11},this))},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/components/RegionSelector.tsx",lineNumber:37,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/components/RegionSelector.tsx",lineNumber:33,columnNumber:5},this)}const P="Left",Y="Right",H="Up",W="Down",j={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},V={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},R="mousemove",C="mouseup",z="touchend",B="touchmove",G="touchstart";function F(e,r,o,a){return e>r?o>0?Y:P:a>0?W:H}function $(e,r){if(r===0)return e;const o=Math.PI/180*r,a=e[0]*Math.cos(o)+e[1]*Math.sin(o),u=e[1]*Math.cos(o)-e[0]*Math.sin(o);return[a,u]}function K(e,r){const o=s=>{const n="touches"in s;n&&s.touches.length>1||e((t,l)=>{l.trackMouse&&!n&&(document.addEventListener(R,a),document.addEventListener(C,b));const{clientX:m,clientY:h}=n?s.touches[0]:s,f=$([m,h],l.rotationAngle);return l.onTouchStartOrOnMouseDown&&l.onTouchStartOrOnMouseDown({event:s}),Object.assign(Object.assign(Object.assign({},t),V),{initial:f.slice(),xy:f,start:s.timeStamp||0})})},a=s=>{e((n,t)=>{const l="touches"in s;if(l&&s.touches.length>1)return n;if(s.timeStamp-n.start>t.swipeDuration)return n.swiping?Object.assign(Object.assign({},n),{swiping:!1}):n;const{clientX:m,clientY:h}=l?s.touches[0]:s,[f,N]=$([m,h],t.rotationAngle),k=f-n.xy[0],d=N-n.xy[1],x=Math.abs(k),O=Math.abs(d),U=(s.timeStamp||0)-n.start,y=Math.sqrt(x*x+O*O)/(U||1),T=[k/(U||1),d/(U||1)],D=F(x,O,k,d),L=typeof t.delta=="number"?t.delta:t.delta[D.toLowerCase()]||j.delta;if(x<L&&O<L&&!n.swiping)return n;const p={absX:x,absY:O,deltaX:k,deltaY:d,dir:D,event:s,first:n.first,initial:n.initial,velocity:y,vxvy:T};p.first&&t.onSwipeStart&&t.onSwipeStart(p),t.onSwiping&&t.onSwiping(p);let w=!1;return(t.onSwiping||t.onSwiped||t[`onSwiped${D}`])&&(w=!0),w&&t.preventScrollOnSwipe&&t.trackTouch&&s.cancelable&&s.preventDefault(),Object.assign(Object.assign({},n),{first:!1,eventData:p,swiping:!0})})},u=s=>{e((n,t)=>{let l;if(n.swiping&&n.eventData){if(s.timeStamp-n.start<t.swipeDuration){l=Object.assign(Object.assign({},n.eventData),{event:s}),t.onSwiped&&t.onSwiped(l);const m=t[`onSwiped${l.dir}`];m&&m(l)}}else t.onTap&&t.onTap({event:s});return t.onTouchEndOrOnMouseUp&&t.onTouchEndOrOnMouseUp({event:s}),Object.assign(Object.assign(Object.assign({},n),V),{eventData:l})})},c=()=>{document.removeEventListener(R,a),document.removeEventListener(C,b)},b=s=>{c(),u(s)},g=(s,n)=>{let t=()=>{};if(s&&s.addEventListener){const l=Object.assign(Object.assign({},j.touchEventOptions),n.touchEventOptions),m=[[G,o,l],[B,a,Object.assign(Object.assign({},l),n.preventScrollOnSwipe?{passive:!1}:{})],[z,u,l]];m.forEach(([h,f,N])=>s.addEventListener(h,f,N)),t=()=>m.forEach(([h,f])=>s.removeEventListener(h,f))}return t},S={ref:s=>{s!==null&&e((n,t)=>{if(n.el===s)return n;const l={};return n.el&&n.el!==s&&n.cleanUpTouch&&(n.cleanUpTouch(),l.cleanUpTouch=void 0),t.trackTouch&&s&&(l.cleanUpTouch=g(s,t)),Object.assign(Object.assign(Object.assign({},n),{el:s}),l)})}};return r.trackMouse&&(S.onMouseDown=o),[S,g]}function J(e,r,o,a){return!r.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?r.preventScrollOnSwipe!==o.preventScrollOnSwipe||r.touchEventOptions.passive!==o.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:a(e.el,r)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:a(e.el,r)})}function Q(e){const{trackMouse:r}=e,o=v.useRef(Object.assign({},V)),a=v.useRef(Object.assign({},j)),u=v.useRef(Object.assign({},a.current));u.current=Object.assign({},a.current),a.current=Object.assign(Object.assign({},j),e);let c;for(c in j)a.current[c]===void 0&&(a.current[c]=j[c]);const[b,g]=v.useMemo(()=>K(E=>o.current=E(o.current,a.current),{trackMouse:r}),[r]);return o.current=J(o.current,a.current,u.current,g),b}const Z=2e3,ee=1e3;function se(e){const[r,o]=v.useState(!1);return v.useEffect(()=>{if(!e||typeof window>"u")return;const a=setTimeout(()=>{o(!0);const c=setTimeout(()=>{o(!1)},Z);return()=>clearTimeout(c)},ee),u=()=>{o(!1)};return window.addEventListener("touchstart",u,{once:!0}),window.addEventListener("click",u,{once:!0}),()=>{clearTimeout(a),window.removeEventListener("touchstart",u),window.removeEventListener("click",u)}},[e]),r}function ne(e,r,o){const a=o.toUpperCase(),u=e.find(b=>b.locale===a);if(u&&u[r])return String(u[r]);const c=e.find(b=>b.locale==="EN");return c&&c[r]?String(c[r]):e.length>0&&e[0][r]?String(e[0][r]):""}function te({topSite:e,locale:r,displayRank:o,isTopRank:a,onClick:u,showReviewLink:c=!1,isFirstItem:b=!1}){const g=I("topSites"),S=X().locale||"en",s=A(),[n,t]=v.useState(0),[l,m]=v.useState(!1),[h,f]=v.useState(null),N=v.useRef(null),k=se(b&&s),d=ne(e.translations,"title",r),x=q("/top-sites/reviews/horoscope",S),O=()=>{u(e.url),y(),m(!1),f(null)},U=()=>{window.open(x,"_blank","noopener,noreferrer"),y(),m(!1),f(null)},y=()=>{t(0)};v.useEffect(()=>{if(!l)return;const p=w=>{N.current&&!N.current.contains(w.target)&&(y(),m(!1),f(null))};return document.addEventListener("mousedown",p),document.addEventListener("touchstart",p),()=>{document.removeEventListener("mousedown",p),document.removeEventListener("touchstart",p)}},[l]);const T=60,D=80,L=Q({onSwiping:p=>{const w=Math.abs(p.deltaX),M=Math.abs(p.deltaY);(M>0?w/M:w)<2||(l?(h==="right"&&p.deltaX<-T/2||h==="left"&&p.deltaX>T/2)&&(y(),m(!1),f(null)):t(p.deltaX))},onSwipedLeft:p=>{Math.abs(p.deltaX)>T?(m(!0),f("left"),t(-D)):y()},onSwipedRight:p=>{Math.abs(p.deltaX)>T?(m(!0),f("right"),t(D)):y()},trackMouse:!1,trackTouch:!0,delta:10,preventScrollOnSwipe:!0});return i.jsxDEV("li",{className:"group relative",children:[!s&&i.jsxDEV("div",{className:"flex items-center gap-2 px-2 py-1.5 rounded cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[i.jsxDEV("span",{className:`
              inline-flex items-center justify-center
              min-h-11 px-2 py-0.5
              text-xs font-semibold rounded-full
              ${a?"bg-primary text-primary-foreground":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}
            `,children:["#",o]},void 0,!0,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:201,columnNumber:11},this),i.jsxDEV("span",{onClick:()=>u(e.url),className:"text-sm truncate flex-1",title:d,children:d},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:217,columnNumber:11},this),c&&i.jsxDEV("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:`
                hidden md:flex md:opacity-0
                md:group-hover:opacity-100
                md:focus-visible:opacity-100
                forced-colors:opacity-100
                contrast-more:opacity-100
                motion-reduce:opacity-100
                transition-opacity duration-200
                items-center justify-center w-8 h-8
                text-primary rounded-md hover:bg-primary/10
              `,"aria-label":`${g("viewReview")}: ${d}`,children:i.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:[i.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:248,columnNumber:17},this),i.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:254,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:241,columnNumber:15},this)},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:223,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:198,columnNumber:9},this),s&&i.jsxDEV("div",{ref:N,className:"relative overflow-hidden",children:[(n>0||h==="right")&&i.jsxDEV("button",{type:"button",onClick:O,className:`absolute inset-y-0 left-0 w-20 bg-gray-200 dark:bg-gray-700
                         flex items-center justify-center
                         hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors
                         focus:outline-none focus:ring-2 focus:ring-gray-400`,"aria-label":`${g("visitSite")}: ${d}`,children:i.jsxDEV("span",{className:"text-gray-800 dark:text-gray-200 font-semibold text-sm",children:"Visit"},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:282,columnNumber:15},this)},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:273,columnNumber:13},this),(n<0||h==="left")&&i.jsxDEV("button",{type:"button",onClick:U,className:`absolute inset-y-0 right-0 w-20 bg-gray-200 dark:bg-gray-700
                         flex items-center justify-center
                         hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors
                         focus:outline-none focus:ring-2 focus:ring-gray-400`,"aria-label":`${g("viewReview")}: ${d}`,children:i.jsxDEV("span",{className:"text-gray-800 dark:text-gray-200 font-semibold text-sm",children:"Review"},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:299,columnNumber:15},this)},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:290,columnNumber:13},this),i.jsxDEV("div",{...L,className:`
              relative z-10
              flex items-center gap-2 px-2 py-1.5
              bg-white dark:bg-gray-800
              transition-transform duration-200 ease-out
              ${k?"animate-slide-hint":""}
            `,style:{transform:`translateX(${n}px)`,touchAction:"pan-y"},children:[i.jsxDEV("span",{className:`
                inline-flex items-center justify-center
                min-h-11 px-2 py-0.5
                text-xs font-semibold rounded-full
                ${a?"bg-primary text-primary-foreground":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}
              `,children:["#",o]},void 0,!0,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:321,columnNumber:13},this),i.jsxDEV("span",{className:"text-sm truncate flex-1",title:d,children:d},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:337,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:306,columnNumber:11},this),c&&i.jsxDEV("div",{className:"sr-only forced-colors:not-sr-only contrast-more:not-sr-only motion-reduce:not-sr-only",role:"navigation","aria-label":g("siteActions"),children:[i.jsxDEV("a",{href:e.url,target:"_blank",rel:"noopener noreferrer","aria-label":`${g("visitSite")}: ${d}`,className:`
                  forced-colors:inline-block forced-colors:px-2 forced-colors:py-1
                  contrast-more:inline-block contrast-more:px-2 contrast-more:py-1
                  motion-reduce:inline-block motion-reduce:px-2 motion-reduce:py-1
                `,children:g("visitSite")},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:349,columnNumber:15},this),i.jsxDEV("a",{href:x,target:"_blank",rel:"noopener noreferrer","aria-label":`${g("viewReview")}: ${d}`,className:`
                  forced-colors:inline-block forced-colors:px-2 forced-colors:py-1 forced-colors:ml-2
                  contrast-more:inline-block contrast-more:px-2 contrast-more:py-1 contrast-more:ml-2
                  motion-reduce:inline-block motion-reduce:px-2 motion-reduce:py-1 motion-reduce:ml-2
                `,children:g("viewReview")},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:362,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:344,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:268,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TopSiteListItem.tsx",lineNumber:194,columnNumber:5},this)}function re(e,r,o){const a=o.toUpperCase(),u=e.find(b=>b.locale===a);if(u&&u[r])return String(u[r]);const c=e.find(b=>b.locale==="EN");return c&&c[r]?String(c[r]):e.length>0&&e[0][r]?String(e[0][r]):""}function ue({guide:e,topSites:r,locale:o,region:a,basePath:u="/top-sites",translationKey:c="topSites",showAllItems:b=!1,showMoreButton:g=!0,showReviewLinks:E=!1,isFirstCard:S=!1}){const s=I(c),t=X().locale||"en",l=re(e.translations,"name",o),m=[...r].sort((d,x)=>d.order-x.order),h=b?m.length:5,f=m.slice(0,h),N=m.length>0,k=d=>{window.open(d,"_blank","noopener,noreferrer")};return m.length===0?i.jsxDEV("div",{className:"border rounded-lg p-4 bg-white dark:bg-gray-800 h-full flex flex-col",children:[i.jsxDEV("h3",{className:"text-lg font-semibold mb-2 truncate",children:l},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TechniqueCard.tsx",lineNumber:88,columnNumber:9},this),i.jsxDEV("hr",{className:"mb-2 border-gray-200 dark:border-gray-700"},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TechniqueCard.tsx",lineNumber:89,columnNumber:9},this),i.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400 p-2",children:s("noLinks")},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TechniqueCard.tsx",lineNumber:90,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TechniqueCard.tsx",lineNumber:87,columnNumber:7},this):i.jsxDEV("div",{className:`
        border rounded-lg p-4 h-full flex flex-col
        bg-white dark:bg-gray-800
        hover:shadow-lg hover:-translate-y-1
        transition-all duration-200
        overflow-hidden
      `,children:[i.jsxDEV("h3",{className:"text-lg font-semibold mb-2 truncate",title:l,children:l},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TechniqueCard.tsx",lineNumber:106,columnNumber:7},this),i.jsxDEV("hr",{className:"mb-2 border-gray-200 dark:border-gray-700"},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TechniqueCard.tsx",lineNumber:110,columnNumber:7},this),i.jsxDEV("ul",{className:"grow space-y-1 overflow-hidden",children:f.map((d,x)=>i.jsxDEV(te,{topSite:d,locale:o,displayRank:d.order+1,isTopRank:d.order+1===1,onClick:k,showReviewLink:E,isFirstItem:S&&x===0},d.id,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TechniqueCard.tsx",lineNumber:115,columnNumber:11},this))},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TechniqueCard.tsx",lineNumber:113,columnNumber:7},this),g&&N&&i.jsxDEV("a",{href:q(`${u}/${e.slug}${a==="global"?"":`/${a}`}`,t),className:`
            mt-3 w-full px-4 py-2
            border border-primary rounded-md
            text-sm text-center text-primary
            hover:bg-primary hover:text-primary-foreground
            transition-colors
            inline-block
          `,children:s("showMore")},void 0,!1,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TechniqueCard.tsx",lineNumber:130,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/andrasdanko/Developer/Oxyness/web-ssr/pages/top-sites/(components)/TechniqueCard.tsx",lineNumber:96,columnNumber:5},this)}export{ce as R,ue as T};
